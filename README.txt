*===============================================================*
* # MultiSavings-SAMPLE
* ## 概要
* このリポジトリは、銀行システム ABC 向けの複数口座・複数預金処理を行う COBOL プログラムのサンプルです。  
* 顧客は複数の預金口座（普通預金・定期預金）を同時に保有する可能性があり、各預金口座ごとの利息計算と精算処理を正確に行うことを目的としています。  
* 本プログラムは、利息計算と精算処理を **独立した 2 つの FUNCTION** で実装しており、口座残高の誤更新を防ぐ設計になっています。
*---------------------------------------------------------------*
* ## 技術スタック
* - 言語: COBOL  
* - データベース: DB2 (SQL 使用)  
* - 接続方法: EXEC SQL 文によるホスト変数バインド  
* - 開発環境: IBM Mainframe / COBOL コンパイラ  
* - その他: DCLGEN ファイルを用いたテーブル定義のインクルード  
*---------------------------------------------------------------*
* ## 実行環境
* - COBOL 実行可能な環境  
* - DB2 データベース接続済み  
* - DCLGEN ファイル（INTINFO, ACCSAV, ACCBAL）が配置済み  
* - 実行時には SQLCA を使用して SQLCODE をチェック  
*---------------------------------------------------------------*
* ## 対象テーブル
* 1. **DB_ACCOUNT_SAVINGS**: 預金契約情報（普通/定期）  
*    - フィールド: ORDER_ID, 
*    - ACC_ID, 
*    - SAVING_TYPE, 
*    - START_DATE, 
*    - END_DATE, 
*    - MONEY_ROOT, 
*    - INTEREST, 
*    - MONEY, 
*    - STATUS  
* 2. **DB_INTEREST_INFO**: 預金種別別利率マスタ  
*    - フィールド: SAVING_TYPE, INTEREST_RATE  
* 3. **DB_ACCOUNT_BALANCE**: 口座残高管理  
*    - フィールド: ACC_ID, BALANCE  
*---------------------------------------------------------------*
* ## 主な機能
* ### FUNCTION-001: CALCULATE_INTEREST
* - 対象: 有効契約（STATUS = '1'）  
* - 処理: 各口座の利息を計算して DB_ACCOUNT_SAVINGS に反映  
* - 特記事項:
*   - 複数口座をまとめずに個別処理  
*   - 利率は DB_INTEREST_INFO から取得  
*   - SQL エラー時は ABEND で処理停止  
* ### FUNCTION-002: SETTLEMENT
* - 対象: 利息計算済み契約  
* - 処理: 口座残高に元利合計を加算し、契約ステータスを完了に更新  
* - 特記事項:
*   - 複数口座を持つ顧客でも逐次加算で正確に反映  
*   - SQL エラー時は ABEND で処理停止  
*---------------------------------------------------------------*
* ## プログラム構造（概要）
* - **MAIN**: 初期化 → FUNCTION-001 → FUNCTION-002 → STOP RUN  
* - **初期化**: ワーク変数・ホスト変数初期化  
* - **利息計算 (FUNCTION-001)**: 有効契約を取得 → 利息計算 → 更新 → 表示  
* - **精算処理 (FUNCTION-002)**: 利息計算済み契約を取得 → 残高加算 → ステータス更新 → 表示  
* - **エラー処理**: SQL エラー時に ABEND ログ出力  
*---------------------------------------------------------------*
* ## 実行手順
* 1. DCLGEN ファイルを配置  
* 2. COBOL コンパイル  
* 3. プログラム実行: FUNCTION-001 → FUNCTION-002 の順に処理  
* 4. 処理結果は DISPLAY に表示  
*---------------------------------------------------------------*
* ## 注意点
* - 複数口座の計算・精算は個別処理  
* - SQLCODE < 0 の場合は ABEND してログ出力  
* - 利率は DB_INTEREST_INFO から取得、ハードコード禁止  
* - 前倒し精算は NON-TERM 利率で計算  
*---------------------------------------------------------------*
* ## 目的
* - 顧客の複数口座の利息計算と精算を正確に行う  
* - 口座残高の誤更新を防止  
* - 口座単位での独立処理により業務ロジックを明確化
*===============================================================*
